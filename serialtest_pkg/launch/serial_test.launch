<?xml version="1.0" ?>
<launch>

  <!-- wheelctrl_4ws-->
  <node pkg="wheelctrl_4ws" name="wheelctrl_4ws" type="wheelctrl_4ws" output="screen" respawn="true"/>

  <!--select mbed device-->
  <arg name="RF" default="true"/>
  <arg name="LF" default="false"/>
  <arg name="LB" default="false"/>
  <arg name="RB" default="false"/>

  <!--mbed serial-->
  <!--wheel-->
  <group if="$(eval RF)">
    <node pkg="serial_test" name="mbed_RF" type="serial_test_node" output="screen" respawn="true">
      <!--param name = "port" value = "/dev/ttyACM0"/-->
      <param name = "port" value = "/dev/serial/by-id/usb-STMicroelectronics_STM32_STLink_066CFF303435554157045034-if02"/>
      <param name = "looprate" value = "30"/>
      <remap from = "/Serial_sub_float" to = "/control_RF" />
      <remap from = "/Serial_pub_float" to = "/data_RF" />
    </node>
  </group>

  <group if="$(eval LF)">
    <node pkg="serial_test" name="mbed_LF" type="serial_test_node" output="screen" respawn="true">
      <param name = "port" value = "/dev/serial/by-id/usb-STMicroelectronics_STM32_STLink_0672FF495649657867253138-if02"/>
      <remap from = "/Serial_sub_float" to = "/control_LF" />
      <remap from = "/Serial_pub_float" to = "/data_LF" />
    </node>
  </group>

  <group if="$(eval LB)">
    <node pkg="serial_test" name="mbed_LB" type="serial_test_node" output="screen" respawn="true">
      <param name = "port" value = "/dev/serial/by-id/usb-STMicroelectronics_STM32_STLink_0670FF495649657867072244-if02"/>
      <remap from = "/Serial_sub_float" to = "/control_LB" />
      <remap from = "/Serial_pub_float" to = "/data_LB" />
    </node>
  </group>

  <group if="$(eval RB)">
    <node pkg="serial_test" name="mbed_RB" type="serial_test_node" output="screen" respawn="true">
      <param name = "port" value = "/dev/serial/by-id/usb-STMicroelectronics_STM32_STLink_0672FF515055657867244941-if02"/>
      <remap from = "/Serial_sub_float" to = "/control_RB" />
      <remap from = "/Serial_pub_float" to = "/data_RB" />
    </node>
  </group>
</launch>
